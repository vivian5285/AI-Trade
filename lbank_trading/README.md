# LBank高频量化合约交易机器人

这是一个基于LBank API的高频量化合约交易机器人，集成了多种交易策略和风险控制机制。该机器人专为加密货币合约交易设计，支持实时市场分析和自动交易执行。

## 功能特点

1. **多策略集成**
   - 趋势跟踪（EMA交叉）
   - 超买超卖（RSI指标）
   - 价格通道（布林带）
   - 高频交易信号
   - 多指标交叉验证
   - 自适应参数调整

2. **风险控制**
   - 最大回撤限制
   - 日亏损限制
   - 最大持仓限制
   - 杠杆控制
   - 动态止损调整
   - 资金管理优化

3. **实时数据处理**
   - WebSocket实时行情
   - 自动K线更新
   - 实时交易执行
   - 市场深度分析
   - 交易量监控
   - 价格波动检测

4. **完整的日志系统**
   - 交易记录
   - 错误日志
   - 性能监控
   - 策略回测报告
   - 资金曲线分析
   - 风险指标统计

## 系统要求

- Python 3.8+
- Windows/Linux/MacOS
- 稳定的网络连接
- 足够的系统内存（建议4GB以上）

## 安装步骤

1. 克隆代码库：
```bash
git clone [repository_url]
cd lbank_trading
```

2. 创建虚拟环境（推荐）：
```bash
python -m venv venv
source venv/bin/activate  # Linux/MacOS
venv\Scripts\activate     # Windows
```

3. 安装依赖：
```bash
pip install -r requirements.txt
```

4. 配置环境变量：
   - 复制 `.env.example` 为 `.env`
   - 填入您的LBank API密钥
   - 调整交易参数

## 使用方法

1. 配置参数：
   - 在 `.env` 文件中设置您的API密钥
   - 调整交易对、杠杆等参数
   - 设置风险控制参数
   - 根据市场情况调整策略参数

2. 运行机器人：
```bash
python trading_bot.py
```

3. 监控运行状态：
   - 查看控制台输出
   - 检查日志文件
   - 监控交易记录

## 参数说明

### API配置
- `LBANK_API_KEY`: LBank API密钥
- `LBANK_SECRET_KEY`: LBank API密钥

### 交易配置
- `TRADING_PAIR`: 交易对（如：BTC-USDT）
- `LEVERAGE`: 杠杆倍数（1-100）
- `POSITION_SIZE`: 每次交易数量
- `MAX_POSITIONS`: 最大持仓数量

### 风险控制
- `MAX_DRAWDOWN`: 最大回撤限制（0.05表示5%）
- `DAILY_LOSS_LIMIT`: 日亏损限制（0.1表示10%）
- `MAX_LEVERAGE`: 最大杠杆限制

### 策略参数
- `FAST_EMA`: 快速EMA周期（默认12）
- `SLOW_EMA`: 慢速EMA周期（默认26）
- `RSI_PERIOD`: RSI周期（默认14）
- `RSI_OVERBOUGHT`: RSI超买水平（默认70）
- `RSI_OVERSOLD`: RSI超卖水平（默认30）
- `BB_PERIOD`: 布林带周期（默认20）
- `BB_STD`: 布林带标准差（默认2.0）

### 高频交易参数
- `MIN_VOLUME`: 最小交易量（单位：USDT）
- `PRICE_CHANGE_THRESHOLD`: 价格变化阈值（0.001表示0.1%）
- `EXECUTION_INTERVAL`: 执行间隔（秒）

## 策略说明

1. **趋势跟踪策略**
   - 使用EMA交叉识别趋势
   - 结合RSI确认趋势强度
   - 布林带过滤假突破

2. **高频交易策略**
   - 监控价格微小波动
   - 快速进出场
   - 控制交易频率

3. **风险控制策略**
   - 动态止损调整
   - 分批建仓和平仓
   - 资金管理优化

## 注意事项

1. 请在实盘交易前进行充分的回测
2. 建议先使用小资金测试
3. 定期检查日志文件
4. 确保网络连接稳定
5. 注意API调用频率限制
6. 定期备份交易数据
7. 监控系统资源使用

## 风险提示

1. 加密货币交易具有高风险
2. 杠杆交易可能放大损失
3. 请合理设置止损
4. 不要投入超过承受能力的资金
5. 市场波动可能导致策略失效
6. 系统故障可能导致损失

## 常见问题

1. **API连接问题**
   - 检查网络连接
   - 验证API密钥
   - 确认IP白名单设置

2. **交易执行问题**
   - 检查账户余额
   - 确认交易对设置
   - 验证杠杆倍数

3. **策略优化建议**
   - 根据市场调整参数
   - 定期回测策略
   - 优化风险控制

## 技术支持

- 提交Issue获取帮助
- 查看更新日志
- 加入社区讨论
- 联系技术支持

## 免责声明

本软件仅供学习和研究使用，不构成投资建议。使用本软件进行交易的风险由用户自行承担。作者不对使用本软件导致的任何损失负责。 