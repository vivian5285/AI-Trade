{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h4 class="mb-0">创建交易机器人</h4>
                </div>
                <div class="card-body">
                    <form method="POST" action="{{ url_for('create_trading_bot') }}">
                        <!-- 基本信息 -->
                        <div class="mb-4">
                            <h5>基本信息</h5>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="name" class="form-label">机器人名称</label>
                                    <input type="text" class="form-control" id="name" name="name" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="exchange" class="form-label">交易所</label>
                                    <select class="form-select" id="exchange" name="exchange" required>
                                        <option value="binance">Binance</option>
                                        <option value="lbank">LBank</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="trading_pair" class="form-label">交易对</label>
                                    <select class="form-select" id="trading_pair" name="trading_pair" required>
                                        <option value="BTCUSDT">BTC/USDT</option>
                                        <option value="ETHUSDT">ETH/USDT</option>
                                        <option value="BNBUSDT">BNB/USDT</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="funds" class="form-label">分配资金 (USDT)</label>
                                    <input type="number" class="form-control" id="funds" name="funds" min="100" step="100" required>
                                </div>
                            </div>
                        </div>

                        <!-- 策略选择 -->
                        <div class="mb-4">
                            <h5>策略选择</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" name="strategies" value="grid" id="gridStrategy">
                                        <label class="form-check-label" for="gridStrategy">
                                            网格策略
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" name="strategies" value="trend" id="trendStrategy">
                                        <label class="form-check-label" for="trendStrategy">
                                            趋势跟踪
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" name="strategies" value="scalping" id="scalpingStrategy">
                                        <label class="form-check-label" for="scalpingStrategy">
                                            剥头皮交易
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" name="strategies" value="arbitrage" id="arbitrageStrategy">
                                        <label class="form-check-label" for="arbitrageStrategy">
                                            套利交易
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 交易设置 -->
                        <div class="mb-4">
                            <h5>交易设置</h5>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="kline_period" class="form-label">K线周期</label>
                                    <select class="form-select" id="kline_period" name="kline_period" required>
                                        <option value="1m">1分钟</option>
                                        <option value="5m">5分钟</option>
                                        <option value="15m">15分钟</option>
                                        <option value="30m">30分钟</option>
                                        <option value="1h">1小时</option>
                                        <option value="4h">4小时</option>
                                        <option value="1d">1天</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="leverage" class="form-label">杠杆倍数</label>
                                    <input type="number" class="form-control" id="leverage" name="leverage" min="1" max="50" value="10" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="stop_loss" class="form-label">止损比例 (%)</label>
                                    <input type="number" class="form-control" id="stop_loss" name="stop_loss" min="0.1" max="5" step="0.1" value="1" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="take_profit" class="form-label">止盈比例 (%)</label>
                                    <input type="number" class="form-control" id="take_profit" name="take_profit" min="0.1" max="10" step="0.1" value="2" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="max_daily_trades" class="form-label">每日最大交易次数</label>
                                    <input type="number" class="form-control" id="max_daily_trades" name="max_daily_trades" min="10" max="1000" value="100" required>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex justify-content-between">
                            <a href="{{ url_for('trading_bots') }}" class="btn btn-secondary">返回</a>
                            <button type="submit" class="btn btn-primary">创建机器人</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 